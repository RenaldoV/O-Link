<div ng-controller="jobCtrl" class="text-center">




    <div class="jobContent blueBorder container">

        <h2><b>{{job.post.category}}</b></h2>
        <hr>
        <div class="wordwrap"> {{job.post.description}}
        </div>

        <hr>
        <span class="jobSubHeader">For</span><br>
        <div id="jobEmployer">

            <a href="/profile?user={{job.employerID._id}}"><img ng-src="data:image/png;base64,{{job.image}}"  class="animated pulse img-circle jobPp"></a>
            <div id="employerName">
            <h2 ng-if="job.employerID.employerType=='Company'">{{job.employerID.company.name}}</h2>
            <h2 ng-if="job.employerID.employerType=='Individual'">{{job.employerID.contact.name +" "+job.employerID.contact.surname}}</h2>
            </div>
        </div>
        <ul class="list-group no-borders pull-in">
<hr>
       <span class="jobSubHeader">Requirements:</span>
            </ul>

        <div ng-if="job.post.interviewRequired" class="text-danger">Interview Required</div>
        <div ng-if="!job.post.interviewRequired" style="color: grey">Interview Not Required</div>
        <br>

        <ul ng-if="job.post.requirements.length > 0 " class="jobpg list-group no-borders pull-in">
            <b>Matric Results</b>
            <li   ng-repeat="res in job.post.requirements">
                <div class="clear">
                    <div>{{res.name}}  {{res.symbol}}</div>
                </div>
            </li>

        </ul>
        <br>
        <ul ng-if="job.post.experience.length > 0 " class="jobpg list-group no-bg no-borders pull-in">
           <b> Experience</b>
            <li   ng-repeat="res in job.post.experience">
                <div class="clear">
                    <div>{{res.category}}</div>
                </div>
            </li>

        </ul>
        <ul class="jobpg list-group no-bg no-borders pull-in">
                <div><b>Gender:</b> {{job.post.gender}}</div>
            <div ng-if="job.post.transport"><span >Own Transport</span></div>
            <div ng-if="job.post.driversLicense"><span >Driver's License</span></div>
        </ul>

        <hr>
        <span class="jobSubHeader">Location:</span>
        <br/><iframe id="location"
                              width="300"
                              height="300"
                              frameborder="0" style="border:0"
                              allowfullscreen>
    </iframe>

        <hr>
        <ul class="jobpg list-group no-bg no-borders pull-in">

                <b>Pay:</b>  R{{job.post.pay}}
                <span ng-if="job.post.timePeriod == 'Once Off'">/Once Off</span>
                <span ng-if="!job.post.timePeriod == 'Once Off'">/Hour</span>

        </ul>
        <ul class="jobpg list-group no-bg no-borders pull-in">

            <span ng-if="job.post.timePeriod == 'Once Off'"><b>Date:</b>  {{job.post.startingDate}}</span>
            <span ng-if="job.post.endDate"><b>Starting Date:</b>  {{job.post.startingDate}}<br> <b> End Date:</b> {{job.post.startingDate}}</span><br>
            <span ng-if="job.post.hours"> {{job.post.hours.begin + " - " +job.post.hours.end}}</span>

        </ul>
        <ul class="jobpg list-group no-bg no-borders pull-in">

            <span>Positions available:  <b>{{job.post.spotsAvailable}}</b></span><br>
            <span>Max applicants:  <b>{{job.post.spotsAvailable *job.post.threshold}}</b></span>


        </ul>







    <div class="center">

        <button ng-if="application.edited" class="btn greenBack btn-xlarge" ng-click="acceptChanges(application._id)">Accept Changes</button>
        <button ng-if="application.edited" class="btn btn-danger btn-xlarge" ng-click="decline(application._id, application.employerID, application.jobID, job.post.category)">Withdraw</button>


        <span ng-if="!application.edited">
            <span ng-if="application.status == 'Provisionally accepted'" >

                <button class="btn greenBack btn-xlarge" ng-click="accept(application._id, application.employerID, application.jobID, job.post.category )">Accept Offer</button>

                <button class="btn btn-danger btn-xlarge" ng-click="decline(application._id, application.employerID, application.jobID, job.post.category)">Decline</button>
            </span>

            <a ng-if="application.offered == 'accepted'" class="btn blueBack btn-xlarge" href="mailto:{{job.employerID.contact.email}}?Subject=O-Link:{{job.post.category}}" target="_blank">Contact</a>

        <button ng-if="canApply" class="btn greenBack btn-xlarge" ng-click="apply()">Apply</button>
        <button ng-if="hasApplied && application.offered != 'accepted' && application.status != 'Provisionally accepted' && application.status != 'Declined'" class="btn greenBack btn-xlarge" disabled>Applied</button>
            <button ng-if="hasApplied && application.status == 'Declined'" class="btn btn-danger btn-xlarge" disabled>Declined</button>


        <button ng-if="admin" class="btn btn-plain btn-xlarge jobButtons" ng-click="edit(job._id)">Edit</button>
        <button ng-if="admin" class="btn btn-danger btn-xlarge  jobButtons" ng-click="delete()">Delete</button>
            </span>
    </div>
    </div>
</div>