<div class="ratebox">
    <h2>Rate Student</h2>

        <img ng-src="data:image/png;base64,{{ngDialogData.image}}" class="img-circle rateImg">
        <h2>{{ngDialogData.studentID.name.name + " " + ngDialogData.studentID.name.surname}}</h2>
        <small ng-if="!ngDialogData.jobID.post.OtherCategory">{{ngDialogData.jobID.post.category}}</small>
        <small ng-if="ngDialogData.jobID.post.OtherCategory">{{ngDialogData.jobID.post.OtherCategory}}</small>
        <form name="rateForm">
            <div class="rater">
                <fieldset class="rating">
                    <input ng-model="rating" type="radio" id="star5" name="rating" value="5" /><label class = "full" for="star5" title="Awesome - 5 stars"></label>
                    <input ng-model="rating" type="radio" id="star4half" name="rating" value="4 and a half" /><label class="half" for="star4half" title="Pretty good - 4.5 stars"></label>
                    <input ng-model="rating" type="radio" id="star4" name="rating" value="4" /><label class = "full" for="star4" title="Pretty good - 4 stars"></label>
                    <input ng-model="rating" type="radio" id="star3half" name="rating" value="3 and a half" /><label class="half" for="star3half" title="Meh - 3.5 stars"></label>
                    <input ng-model="rating" type="radio" id="star3" name="rating" value="3" /><label class = "full" for="star3" title="Meh - 3 stars"></label>
                    <input ng-model="rating" type="radio" id="star2half" name="rating" value="2 and a half" /><label class="half" for="star2half" title="Kinda bad - 2.5 stars"></label>
                    <input ng-model="rating" type="radio" id="star2" name="rating" value="2" /><label class = "full" for="star2" title="Kinda bad - 2 stars"></label>
                    <input ng-model="rating" type="radio" id="star1half" name="rating" value="1 and a half" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label>
                    <input ng-model="rating" type="radio" id="star1" name="rating" value="1" /><label class = "full" for="star1" title="Sucks big time - 1 star"></label>
                    <input ng-model="rating" type="radio" id="starhalf" name="rating" value="half" /><label class="half" for="starhalf" title="Sucks big time - 0.5 stars"></label>
                </fieldset>
            </div>
            <div class="form-group">
                <textarea placeholder="Comment (20 - 300 characters)" class="comment rateCommentBox form-control" ng-model="comment" id="commentArea" rows="2"></textarea>
                <div id="textarea_feedback"></div><br/>
                <div ng-show="commentError" class="alert alert-danger" role="alert">
                    Your comment should be between 20 and 300 characters long.
                </div>
            </div>

            <div class="ngdialog-buttons">
                <button type="button" class="ngdialog-button ngdialog-button-primary" ng-disabled="rateForm.$invalid" ng-click="confirmStudent();">OK</button>
            </div>
        </form>
</div>

<script>
    $(function () {
        var text_max = 300;
        $('#textarea_feedback').html(text_max + ' remaining');
        $('#commentArea').keyup(function() {
            var text_length = $('#commentArea').val().length;
            var text_remaining = text_max - text_length;
            $('#textarea_feedback').html(text_remaining + ' remaining');
        });
    });
</script>